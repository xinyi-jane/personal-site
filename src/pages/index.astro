---
import BaseLayout from '../layouts/BaseLayout.astro';
import { projects } from '../data/projects';
import site from '../data/site';

const rawBase = import.meta.env.BASE_URL || '/';
const base = rawBase.endsWith('/') ? rawBase : `${rawBase}/`; // ensure trailing slash for links
---

<BaseLayout title={site.name} description={site.description} currentPath="/">
	<section class="hero">
		<h1>ä½ å¥½ï¼Œæˆ‘æ˜¯ {site.name}</h1>
		<p class="hero-description">{site.description}</p>
	</section>

	<section class="section">
		<h2>å…³äºæˆ‘</h2>
		<p>
			æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººä¸»é¡µï¼æˆ‘æ˜¯ä¸€åå¼€å‘è€…ï¼Œçƒ­çˆ±ç¼–ç¨‹å’ŒæŠ€æœ¯åˆ†äº«ã€‚
			è¿™é‡Œä¼šå±•ç¤ºæˆ‘çš„é¡¹ç›®ä½œå“ã€æŠ€æœ¯åšå®¢ä»¥åŠå…¶ä»–æ„Ÿå…´è¶£çš„å†…å®¹ã€‚
		</p>
		<p>
			å¦‚æœä½ å¯¹æˆ‘çš„å·¥ä½œæ„Ÿå…´è¶£ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ï¼š
		</p>
		<ul>
			<li>ğŸ“§ Email: <a href={`mailto:${site.email}`}>{site.email}</a></li>
			{site.socialLinks.map((link) => (
				<li>
					ğŸ”— <a href={link.url} target="_blank" rel="noopener noreferrer">{link.name}</a>
				</li>
			))}
		</ul>
	</section>

	<section class="section">
		<h2>ç²¾é€‰é¡¹ç›®</h2>
		<p>ä»¥ä¸‹æ˜¯æˆ‘çš„ä¸€äº›é¡¹ç›®ä½œå“ï¼š</p>
		<div class="projects-grid">
			{projects.slice(0, 3).map((project) => (
				<div class="project-card card">
					<h3>{project.title}</h3>
					<p>{project.description}</p>
					<div class="project-tech">
						{project.technologies.map((tech) => (
							<span class="tech-tag">{tech}</span>
						))}
					</div>
					<div class="project-links">
						{project.url && (
							<a href={project.url} target="_blank" rel="noopener noreferrer" class="btn btn-outline">
								æŸ¥çœ‹é¡¹ç›®
							</a>
						)}
						{project.github && (
							<a href={project.github} target="_blank" rel="noopener noreferrer" class="btn btn-outline">
								GitHub
							</a>
						)}
					</div>
				</div>
			))}
		</div>
		<div class="section-footer">
			<a href={`${base}projects/`} class="btn">æŸ¥çœ‹æ‰€æœ‰é¡¹ç›® â†’</a>
		</div>
	</section>

	<section class="section">
		<h2>æœ€æ–°åšå®¢</h2>
		<p>æŸ¥çœ‹æˆ‘çš„ <a href="/blog">åšå®¢æ–‡ç« </a>ï¼Œäº†è§£æˆ‘çš„æŠ€æœ¯åˆ†äº«å’Œå­¦ä¹ ç¬”è®°ã€‚</p>
	</section>
</BaseLayout>

<style>
	.hero {
		text-align: center;
		padding: 3rem 0;
		margin-bottom: 3rem;
	}

	.hero h1 {
		font-size: 3rem;
		margin-bottom: 1rem;
		background: linear-gradient(135deg, var(--color-accent), var(--color-accent-hover));
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
	}

	.hero-description {
		font-size: 1.25rem;
		color: var(--color-text-secondary);
		max-width: 600px;
		margin: 0 auto;
	}

	.section {
		margin-bottom: 4rem;
	}

	.section h2 {
		margin-bottom: 1.5rem;
		border-bottom: 2px solid var(--color-border);
		padding-bottom: 0.5rem;
	}

	.projects-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
		gap: 1.5rem;
		margin-bottom: 2rem;
	}

	.project-card {
		display: flex;
		flex-direction: column;
	}

	.project-card h3 {
		margin-bottom: 0.75rem;
		color: var(--color-accent);
	}

	.project-tech {
		display: flex;
		flex-wrap: wrap;
		gap: 0.5rem;
		margin: 1rem 0;
	}

	.tech-tag {
		background-color: var(--color-bg-secondary);
		padding: 0.25rem 0.75rem;
		border-radius: 12px;
		font-size: 0.875rem;
		color: var(--color-text-secondary);
		border: 1px solid var(--color-border);
	}

	.project-links {
		display: flex;
		gap: 1rem;
		margin-top: auto;
		padding-top: 1rem;
	}

	.btn-outline {
		background-color: transparent;
		border: 2px solid var(--color-accent);
		color: var(--color-accent);
		padding: 0.5rem 1rem;
		font-size: 0.875rem;
	}

	.btn-outline:hover {
		background-color: var(--color-accent);
		color: white;
		transform: translateY(-1px);
	}

	.section-footer {
		text-align: center;
		margin-top: 2rem;
	}

	@media (max-width: 768px) {
		.hero h1 {
			font-size: 2rem;
		}

		.hero-description {
			font-size: 1rem;
		}

		.projects-grid {
			grid-template-columns: 1fr;
		}
	}
</style>
